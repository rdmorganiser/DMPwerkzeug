{% extends 'core/export.html' %}

{% load i18n %}

{% block pdf %}

{% for section in catalog.sections.all %}

    <h1>{% trans 'Section' %} {{ section.title }}</h1>

    {% for subsection in section.subsections.all %}

    <h2>{% trans 'Subsection' %} {{ subsection.title }}</h2>

    {% for entity in subsection.entities.all %}

    {% if entity.is_set %}

    <h3>{% trans 'Questionset' %}</h3>

    {% if entity.help %}
    <p>
        <em>{% trans 'Help' %}:</em> {{ entity.help }}
    </p>
    {% endif %}

    <p>
        <em>{% trans 'Entity' %}:</em> {{ entity.attribute_entity.title }}
    </p>

    <p>
        <em>{% trans 'Questions' %}:</em>
    </p>

    <ul>
    {% for question in entity.questions.all %}
        <li>
            <p>
                <em>{% trans 'Text' %}:</em> {{ question.text }}
            </p>

            {% if question.help %}
            <p>
                <em>{% trans 'Help' %}:</em> {{ question.help }}
            </p>
            {% endif %}

            <p>
                <em>{% trans 'Attribute' %}:</em> {{ question.attribute_entity.title }}
            </p>

            {% if question.attribute_entity.attribute.options.all %}
            <p>
                <em>{% trans 'Options' %}:</em>
            </p>

            <ul>
                {% for option in question.attribute_entity.attribute.options.all %}
                    <li>
                        {{ option.text }}{% if option.additional_input %}: __________{% endif %}
                    </li>
                {% endfor %}
            </ul>
            {% endif %}

            {% if question.attribute_entity.attribute.range %}
            <p>
                <em>{% trans 'Range' %}:</em>
            </p>

            <ul>
                <li>{% trans 'Minimum' %}: {{ question.attribute_entity.attribute.range.minimum }}</li>
                <li>{% trans 'Maximum' %}: {{ question.attribute_entity.attribute.range.maximum }}</li>
                <li>{% trans 'Step' %}: {{ question.attribute_entity.attribute.range.step }}</li>
            </ul>
            {% endif %}

        </li>
    {% endfor %}
    </ul>

    {% elif entity.question.parent == None %}

    <h3>{% trans 'Question' %}</h3>

    <p>
        <em>{% trans 'Text' %}:</em> {{ entity.question.text }}
    </p>

    {% if entity.help %}
    <p>
        <em>{% trans 'Help' %}:</em> {{ entity.help }}
    </p>
    {% endif %}

    <p>
        <em>{% trans 'Attribute' %}:</em> {{ entity.question.attribute_entity.title }}
    </p>

    {% if entity.attribute_entity.attribute.options.all %}
    <p>
        <em>{% trans 'Options' %}:</em>
    </p>

    <ul>
    {% for option in entity.attribute_entity.attribute.options.all %}
        <li>{{ option.text }}{% if option.additional_input %}: __________{% endif %}</li>
    {% endfor %}
    </ul>

    {% endif %}

    {% if entity.attribute_entity.attribute.range %}

    <p>
        <em>{% trans 'Range' %}:</em>
    </p>

    <ul>
        <li>{% trans 'Minimum' %}: {{ entity.attribute_entity.attribute.range.minimum }}</li>
        <li>{% trans 'Maximum' %}: {{ entity.attribute_entity.attribute.range.maximum }}</li>
        <li>{% trans 'Step' %}: {{ entity.attribute_entity.attribute.range.step }}</li>
    </ul>
    {% endif %}

    {% endif %}

    {% endfor %}

    {% endfor %}

{% endfor %}

{% endblock %}
