{% load i18n %}

    <h3>{% trans 'Progress' %}</h3>

    <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
             style="width: {$ service.entity.progress $}%;">
            <span></span>
        </div>
    </div>

    <h3>{% trans 'Navigation' %}</h3>

    <p class="help-block">
        {% trans 'Please note that using the navigation will discard any usaved input.' %}
    </p>

    <ul class="list-unstyled">
        <li>
            <a href="" ng-class="{ disabled: service.entity.prev === null }" ng-click="service.prev()">
                {% trans 'skip to previous page' %}
            </a>
        </li>
        <li>
            <a href="" ng-class="{ disabled: service.entity.next === null }" ng-click="service.next()">
                {% trans 'skip to next page' %}
            </a>
        </li>
    </ul>

    <div class="project-questions-overview">

        <h4>{% trans 'Overview' %}</h4>

        <ul class="list-unstyled">
            <li ng-repeat="section in service.catalog.sections">
                <a href="" ng-click="service.jump(section)">
                    {$ section.title $}
                </a>

                <ul class="list-unstyled" ng-show="section.id == service.entity.section.id">
                    <li ng-repeat="subsection in section.subsections">
                        <a href="" ng-click="service.jump(section, subsection)">
                            {$ subsection.title $}
                        </a>

                        <ul class="list-unstyled" ng-show="subsection.id == service.entity.subsection.id">
                            <li ng-repeat="entity in subsection.entities"
                                ng-class="{'active': entity.id == service.entity.id}">
                                <a href="" ng-click="service.jump(section, subsection, entity)">
                                    <span ng-show="entity.text">{$ entity.text $}</span>
                                    <span ng-show="entity.questions">{$ entity.questions[0].text $}</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

    </div>
